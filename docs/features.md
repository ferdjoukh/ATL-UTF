# ATLrunner

This module is the core part of our work. It is used to run all the model transformations using all the models that come from different origins.

This document lists the main feature of **ATLrunner**.

## Model Transformations Folder Reader (TransformationsReader.java)

A given folder of MTs is read and all the data that it contains are collected (MTs, additional input files, ecore meta-models, xmi models, and the list of model finding/generation tools).

### Model Transformations data collector

All the data of a transformation folder are collected and the desired object are created. They are now ready for running the MTs.

### Output files

- <ModelTransformation.rules>

### Model Transformations folder Runner (TransformationsRunner.java)

The objects of this class are used to run all the model transformations that are in a given folder

### Output files

Here is a complete list of all the different files that are generated by this class.

-  output-model.xmi
-  trace-model.xmi
-  tool-MT-results.csv
-  failed-models.log
-  execution-results.csv
-  execution.log

## ATL launcher (ATLauncher.java)

This is the module that runs an ATL transformation on a set of given xmi models.

### Single ATL transformation launcher

Given an ATL MT and a set of xmi file, the module launches the ATL transformation, produces the output model and the trace model.

**important**: the ATL transformation has to be compiled into .emftvm byte code file.

### Execution metrics computer

For a given tool, the total number of executed rules for each MT is computed.

## Model Transformation (ModelTransformation.java)

This is the class that allows the creation of object of type ModelTransformation. The goal is to gather all the information on a single model transformation: Module, ATL file path, input meta-model, output meta-model and rules.

Hereinafter, we give the most important treatments that are applied on a Model Transformation.

### ATL file reader

This method read an .atl file as an EMF model. This allows us to collect the list of rules in order to compute their complexity score.

### Rule complexity score computer

The complexity of a rule is evaluated according to the following criteria:

- Is there a filter condition of the input pattern ?
- How complex is the OCL expression of the filter condition ?
- How many variables are contained in the input pattern ?
- How many variables are contained in the output pattern ?

The simplest rules get the minimum score 1 and the score increases for more complex rules. 

### Generate a file containing all rules (.rules)

A method allows to generate a file containing the previous scores. 

### automatically compute the complexity of an OCL expression

**@TODO**